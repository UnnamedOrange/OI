[TOC]

# 杂题选讲

## GCJR3 T1

### 题目大意

把 $n$ 个点聚成一点，每次操作选择一个点向八个方向中的一个移动一步，其余点会自动向那个点聚拢（走一步），优先走对角线方向。求聚拢的最小操作次数。

### 解决方法

两维可以独立：横/纵坐标距离除以 $2$。

## GCJR3 T2

### 题目大意

构造一张简单图，要求每个点的度数为 4，点数在 10 到 50 之间。把图交给交互库，交互库会把图重标号返回给你。求重标号的排列。

### 思路

构造一张**不自同构**的图，并快速还原。

### 解决方法

求多源最短路，把最短路距离看成一个多重集，计算哈希值 $h_1$。

这样很容易挂，把一个点相邻四个点的哈希值取出来，合起来再构造一个哈希值，设为 $h_2$。多次迭代 $h_k$，然后就差不多了。

## 棋子

### 题目大意

一个 $n \times m$ 的方格图，上面有棋子和障碍，外面是虚无，棋子进去后就爆炸。现在可以做这个操作：选择上下左右四个方向，把所有棋子向选择方向移动，如果有障碍就不移动，棋子可以重叠。问：是否所有棋子一定是同生共死的，即要爆炸都爆炸，不爆炸都不爆炸。

## GCJR3 T3

### 题目大意

三维空间给出 $n$ 个点 $(x_i, y_i, z_i)$，求一种排列，使得任意相邻的三个点确定的平面都高于之前的所有点。输出任意排列。保证不存在三点共线，四点共面，并且不存在三点构成的平面垂直于 $xOy$。

### 判断点与平面的关系

保存平面上一点和平面的法向量，法向量指向平面上方。要判断一个点在平面上方还是下方，可以看平面上那个点到待判断点的向量与法向量的点积符号。

### 解决方案

先找最后的三个，然后枚举这三个点的顺序，然后找旋转角度最小的。

## yidaohaoti

### 题目大意

给定一个矩阵 $A$，求最小的 $k$，使得 $A^k$ 中所有数在模 $10^9 + 7$ 意义下均为 $0$。$n \le 300$。

### 解决方案

迷之定理：矩阵自乘，秩会减小；若不减少了，那就永远不会减少了。说人话：答案要么无解，要么不超过 $n$。

迷之定理 2：NOI 向量内积。

## CodeM 2018 资格赛 T6

### 题目大意

$2n$ 个点的二分图，动态加入 $m$ 条边，求每次加边后的最大匹配。$n \le 1000$，$m \le 10^5$。

### 解决方案

手动维护 S 和 T 集合，若新加入的边是跨集合的，那么让它流量为 1，重新维护 S 和 T 集合。时间复杂度 $O(nm)$。（？？）

## CodeM 2018 初赛 A T6

### 题目大意

已知一个分数 $\frac {a} {b}$（$a$，$b$ 是 $10^9$ 内的正整数）。求一个字符串 $s$ 在小数点后第一次出现的位置。

## BZOJ 共点圆

### 题目大意

$$
\frac {a} {b} = 0.\cdots
$$

假设出现了一段 $s$，设 $a' = 10^l \bmod b$，则

$$
\frac {a'} {b} = 0.s\cdots
$$

$$
a' = b \times 0.s\cdots
$$

当 $s$ 小于等于 $6$ 位时，暴力 $10^7$ 位。否则枚举 $a'$，用 BSGSex。
